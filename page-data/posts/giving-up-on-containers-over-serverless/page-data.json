{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/giving-up-on-containers-over-serverless","result":{"data":{"markdownRemark":{"id":"fba60bc5-d2ed-58f8-9a9d-08bdf7698119","html":"<p>The growth of Serverless ecosystem in recent times is tremendous, with respect to the features, support, monitoring and etc. This article is purely based on my experience and readings with respect to Web Applications. As of today, many traditional applications struggling to modernize themselves and on the other side many of the new applications are built on microservice architecture and they been deployed in containers by default (again emphasizing on Web Applications). Topics for today is, whether you choose to build and host on Containers or would you like to build it as a serverless application. When you talk about traditional vs Serverless then serverless is a clear winner in modern development, and I feel Containers are somewhere in between</p>\n<blockquote>\n<p>“Containers won the battle, but will lose the war to serverless” — Simon Wardley</p>\n</blockquote>\n<p>Saying that, now straight away jump into the discussion points</p>\n<ul>\n<li>What is Serverless Application</li>\n<li>Architecting Modern Applications (JAM Stack, MongoDB Stitch)</li>\n<li>Containers vs. Serverless</li>\n<li>Tools and references</li>\n</ul>\n<blockquote>\n<p>“Serverless doesn’t mean that you don’t have servers, it is just means that you don’t need to worry about those servers” - John Papa</p>\n</blockquote>\n<h2 id=\"serverless-applications\"><a href=\"#serverless-applications\" aria-label=\"serverless applications permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Serverless Applications</h2>\n<figure class=\"float-right\" style=\"width: 300px\">\n\t<img src=\"/media/serverless1.jpg\">\n</figure>\n<p>Servers challenge us with additional cost, difficult to setup and a struggle to maintain. And that’s the simple reason why you look for serverless solutions, just keeping scaling and few others out. By the definition from AWS, Serverless is the native architecture of the cloud that enables you to shift more of your operational responsibilities to AWS, increasing your agility and innovation. Serverless allows you to build and run applications and services without thinking about servers. It eliminates infrastructure management tasks such as server or cluster provisioning, patching, operating system maintenance, and capacity provisioning. You can build them for nearly any type of application or backend service, and everything required to run and scale your application with high availability is handled for you. Serverless enables you to build modern applications with increased agility and lower total cost of ownership. Building serverless applications means that your developers can focus on their core product instead of worrying about managing and operating servers or runtimes, either in the cloud or on-premises. This reduced overhead lets developers reclaim time and energy that can be spent on developing great products which scale and that are reliable</p>\n<p>In relevance to this blog, most of us today write serverless code in conjunction with code written in traditional server style, such as microservices. For example, part of a web application could be written as microservices and another part could be written as serverless code. Alternatively, an application could be written that uses no provisioned servers at all, being completely serverless and I believe that is going to be the future</p>\n<p>There were few challenges which was stopping us in the past from moving to Serverless are now getting resolved one after other. As an example, Azure functions comes with a great tooling support which helps developers to develop and debug serverless functions locally without any struggle</p>\n<h2 id=\"the-jamstack\"><a href=\"#the-jamstack\" aria-label=\"the jamstack permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The JAMstack</h2>\n<p>A pure Serverless architectures are application designs that incorporate third-party “Backend as a Service” (<strong>BaaS</strong>) services, and that include custom code run in managed, ephemeral containers on a “Functions as a Service” (<strong>FaaS</strong>) platform. But here in this blog we are skipping the backend part little and there are more providers for BaaS today and they are always easy to plugin</p>\n<p>For those not familiar with the term, JAM means <strong>JavaScript</strong>, <strong>API’s</strong>, and <strong>Markup</strong>. Translated into non-Acronym speech, means a client-side site where the initial HTML page is not web server like ASP.NET, or Ruby on Rails, or Express. This can be a little confusing, but you just have to understand the two purposes of web servers like ASP.NET. First they serve up assets (HTML, JavaScript, CSS, fonts, etc.) and second they reply to AJAX calls to store and retrieve data. This second function is what we do a lot of with our React and Angular etc. applications, and we mostly don’t think much about the first purpose. With the JAMstack we can still make those AJAX calls, but something like Netlify handles serving up our HTML, JavaScript, and CSS etc. And all those assets need to be static (which usually isn’t a problem)</p>\n<p>It is very important to choose the correct architecture when you looking to build serverless applications. The JAMstack helps you to keep it simple and get it correct. The Stack emphasis a 100% server-side processes abstractions into microservice APIs. Using the JAMstack has huge benefits on performance, scalability, security, ease of deployment, and cost. I won’t really dig into details of all these, but just want to let you know that using platforms like <a href=\"https://www.netlify.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Netlify</a> along with JAMstack applications will ensures above mentioned benefits (a must read book on JAMstack - <a href=\"https://www.netlify.com/pdf/oreilly-modern-web-development-on-the-jamstack.pdf\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">link</a>)</p>\n<h2 id=\"mongodb-atlas-offering\"><a href=\"#mongodb-atlas-offering\" aria-label=\"mongodb atlas offering permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MongoDB Atlas offering</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b93aaa8085f63a0b34d525b3006797c6/6d629/serverless2.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.640926640926644%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAEDBAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHuNwDQQF//xAAaEAABBQEAAAAAAAAAAAAAAAABAAIQESEx/9oACAEBAAEFAr0yE3n/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAYEAACAwAAAAAAAAAAAAAAAAAAEAIRMf/aAAgBAQAGPwKjXJf/xAAZEAADAQEBAAAAAAAAAAAAAAAAAREhEDH/2gAIAQEAAT8hFieLyKpwZzQw/9oADAMBAAIAAwAAABCsD//EABYRAAMAAAAAAAAAAAAAAAAAAAEQIf/aAAgBAwEBPxA1f//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAECAQE/EIf/xAAaEAEBAQEBAQEAAAAAAAAAAAABEQAhMWFR/9oACAEBAAE/EAkZYKfHNXG06W5yjBQYzzeicP37mVVe7//Z'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/b93aaa8085f63a0b34d525b3006797c6/8ac56/serverless2.webp 240w,\n/static/b93aaa8085f63a0b34d525b3006797c6/d3be9/serverless2.webp 480w,\n/static/b93aaa8085f63a0b34d525b3006797c6/e46b2/serverless2.webp 960w,\n/static/b93aaa8085f63a0b34d525b3006797c6/fcad6/serverless2.webp 1036w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/b93aaa8085f63a0b34d525b3006797c6/5a194/serverless2.jpg 240w,\n/static/b93aaa8085f63a0b34d525b3006797c6/8a430/serverless2.jpg 480w,\n/static/b93aaa8085f63a0b34d525b3006797c6/0781d/serverless2.jpg 960w,\n/static/b93aaa8085f63a0b34d525b3006797c6/6d629/serverless2.jpg 1036w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/b93aaa8085f63a0b34d525b3006797c6/0781d/serverless2.jpg\"\n          alt=\"serverless2.jpg\"\n          title=\"serverless2.jpg\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<p>Today, one of the commonly used DB Service Provider (DBaaS) is <strong>MongoDB Atlas</strong> platform. The DBaaS platform Atlas also provide ability to build serverless applications. As you see in the screen grab you can build APIs using serverless functions available with MongoDB Stitch and hook them with the Atlas Cluster backend.</p>\n<p>Stitch functions runs as simple JavaScript (ES6) functions in Stitch’s serverless environment and serves applications with Server-side logic, or enable Data as a Service with custom APIs. Serverless platforms on top of MongoDB helps reducing time to market, operational cost and development cost.</p>\n<p>In short Stitch functions can be invoked through HTTP endpoints or through external services like AWS API gateway. The collection of functions can be grouped through a Stitch App and the same can be hooked up with an authentication provider (a third party provider like gitHub, Google or Facebook, or we can implement a custom authentication)</p>\n<h2 id=\"containers-vs-serverless\"><a href=\"#containers-vs-serverless\" aria-label=\"containers vs serverless permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Containers vs. Serverless</h2>\n<p>AWS offers computing services in the form of IaaS with its famous EC2 container service, FaaS in the form of its serverless Lambda functions, and CaaS with its newly-released Fargate product. Among these three computing services to choose from within the AWS cloud environment, where EC2 has the most operational burden, AWS Lambda has the least, and AWS Fargate is somewhat in the middle on the spectrum. Fargate is a type of ECS (Elastic Container Service) where is takes little bit of Infrastructure burdens as you don not need to manage any EC2 instances.</p>\n<p>In a container-based architecture, the number of containers deployed is determined by the developer in advance. In contrast, in a serverless architecture, the backend inherently and automatically scales to meet demand</p>\n<p>Containers are constantly running, and therefore cloud providers have to charge for the server space even if no one is using the application at the time. There are no continued expenses in a serverless architecture because application code does not run unless it is called. Instead, developers are only charged for the server capacity that their application does in fact use</p>\n<p>Couple of key cons of Serverless are Cold Start and Vendor lock-in, but there are modern tools and frameworks can help you to overcome these problems. Example Serverless (<a href=\"https://serverless.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">link</a>) and <a href=\"https://spring.io/blog/2017/07/05/introducing-spring-cloud-function\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Spring Cloud Functions</a> by <strong>Pivotal</strong></p>\n<h2 id=\"conclusion\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h2>\n<p>Lambda functions could be considered a more viable option, but they have their limitations. In the case of AWS Lambda some of these limitations include a 512MB ephemeral disk space limitation and 50MB deployment package size among, and a few <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/limits.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">others</a>. Given all that, you no longer have to worry about provisioning your containers and defining scaling rules, you would still have to <strong>worry about such limitations</strong>.</p>\n<p>It is always been told in the past that Serverless is a great choice for an Internet of Things (IoT) and can help us performing little tasks based on a trigger. And also it is perceived like, Serverless is ideal when development speed and cost minimization is paramount and if you don’t want to manage scaling concerns. But given the background above on modern Web Application Development techniques like JAMstack and the growing initiatives like <a href=\"https://cloudstate.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CloudState</a>, makes it highly possible to use Serverless as your platform to build large scale web applications</p>\n<h2 id=\"reference\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h2>\n<ul>\n<li><a href=\"https://aws.amazon.com/premiumsupport/knowledge-center/cloudfront-serve-static-website/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://aws.amazon.com/premiumsupport/knowledge-center/cloudfront-serve-static-website/</a></li>\n<li><a href=\"https://developer.okta.com/blog/2019/03/21/build-secure-microservices-with-aspnet-core\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://developer.okta.com/blog/2019/03/21/build-secure-microservices-with-aspnet-core</a></li>\n<li><a href=\"https://dzone.com/articles/squeeze-aws-lambda-for-everything-its-worth\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://dzone.com/articles/squeeze-aws-lambda-for-everything-its-worth</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=WBEzGFpAnhY\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.youtube.com/watch?v=WBEzGFpAnhY</a> (Data API with MongoDB Stitch)</li>\n<li><a href=\"https://www.thundra.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.thundra.io/</a></li>\n<li><a href=\"https://www.cloudflare.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.cloudflare.com</a></li>\n</ul>","fields":{"slug":"/posts/giving-up-on-containers-over-serverless","tagSlugs":["/tag/mongo-db/","/tag/serverless/"]},"frontmatter":{"date":"2019-10-10T22:40:32.169Z","description":"Topics for today is, whether you choose to build and host on Containers or would you like to build it as a serverless application. When you talk about traditional vs Serverless then serverless is a clear winner in modern development, and I feel Containers are somewhere in between. Simon Wardley says, “Containers won the battle, but will lose the war to serverless”","tags":["MongoDB","Serverless"],"title":"Giving up on Containers over Serverless","socialImage":"/media/serverless1.jpg"}}},"pageContext":{"slug":"/posts/giving-up-on-containers-over-serverless"}}}